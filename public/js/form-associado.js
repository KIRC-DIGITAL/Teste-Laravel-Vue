"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[969],{8201:(s,t,a)=>{a.d(t,{Z:()=>i});var o=a(1519),e=a.n(o)()((function(s){return s[1]}));e.push([s.id,"[data-v-4b51c385] .modal-backdrop{opacity:.5!important}",""]);const i=e},2985:(s,t,a)=>{a.r(t),a.d(t,{default:()=>l});const o={props:["selected","id"],mixins:[a(2063).Z],data:function(){return{instituicoes:[],titulacoes:[],loading:!1,post:{id:null,numero_socio:null,anuidade:null,divisao_tematica:null,obs_isentamos:null,instituicao_id:null,titulacao_id:null,_method:"post"}}},mounted:function(){var s=this;axios.get("".concat("https://www.sistemas.intercom.org.br","/get/instituicoes")).then((function(t){s.instituicoes=t.data})),axios.get("".concat("https://www.sistemas.intercom.org.br","/get/titulacoes")).then((function(t){s.titulacoes=t.data}))},watch:{selected:function(){this.selected?(this.post.id=this.selected.id,this.post.numero_socio=this.selected.numero_socio,this.post.anuidade=this.selected.anuidade,this.post.divisao_tematica=this.selected.divisao_tematica,this.post.instituicao_id=this.selected.instituicao_id,this.post.titulacao_id=this.selected.titulacao_id,this.post.obs_isentamos=this.selected.obs_isentamos,this.post._method="put"):this.clear()}},computed:{url:function(){return this.post&&this.post.id?"/".concat(this.post.id):""}},methods:{save:function(){var s=this;this.$validator.validate().then((function(t){t?(s.message("Aguarde...","Estamos salvando suas informações","info",-1),s.loading=!0,axios.post("".concat("https://www.sistemas.intercom.org.br","/admin/associado").concat(s.url),s.post).then((function(t){s.clear(),201==t.status?(s.loading=!1,s.$emit("store",t.data.response)):(s.loading=!1,s.$emit("update",t.data.response)),s.message("Sucesso",201==t.status?"Registro cadastrado.":"Registro atualizado.","success")})).catch((function(t){if(422==t.response.status&&"The given data was invalid."==t.response.data.message)return s.loading=!1,s.message("Campos Obrigatórios","Preencha todos os campos obrigatórios","error");400==t.response.status&&(s.loading=!1,s.message("Erro","Por favor tente novamente.","error")),403==t.response.status&&"This action is unauthorized."==t.response.data.message&&(s.loading=!1,s.message("Erro","Ação não autorizada.","error"))}))):s.message("Campos Obrigatórios","Preencha todos os campos obrigatórios","error")}))},clear:function(){this.post.id=null,this.post.numero_socio=null,this.post.anuidade=null,this.post.divisao_tematica=null,this.post.instituicao_id=null,this.post.titulacao_id=null,this.post._method="post",this.$validator.reset("numero_socio"),this.$validator.reset("associado"),this.$validator.reset("anuidade"),this.$validator.reset("divisao_tematica"),this.$validator.reset("titulacao"),this.$validator.reset("instituicao")}}};var e=a(3379),i=a.n(e),r=a(8201),n={insert:"head",singleton:!1};i()(r.Z,n);r.Z.locals;const l=(0,a(1900).Z)(o,(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("b-modal",{attrs:{id:"associadoModal","no-close-on-backdrop":""},scopedSlots:s._u([{key:"modal-header",fn:function(t){var o=t.close;return[s.post.id?a("h5",[s._v("Editar associado")]):a("h5",[s._v("Cadastrar associado")]),s._v(" "),a("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(s){return o()}}},[s._v("x")])]}},{key:"modal-footer",fn:function(t){var o=t.cancel;return[a("b-button",{attrs:{size:"md",variant:"outline-danger",disabled:s.loading},on:{click:function(s){return o()}}},[s._v("\n                Cancelar\n            ")]),s._v(" "),a("b-button",{attrs:{size:"md",variant:"outline-success",disabled:s.loading},on:{click:function(t){return s.save()}}},[s._v("\n                "+s._s(s.post.id?"Atualizar":"Cadastrar")+"\n            ")])]}}])},[s._v(" "),[a("b-row",[a("b-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[a("b-form-group",{attrs:{label:"Número sócio","label-class":"font-weight-bold"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,numeroSocioCheck:s.post.id},expression:"{ required: true,  numeroSocioCheck: post.id }"}],class:["form-control form-control-sm",{"is-invalid":s.errors.has("numero_socio")}],attrs:{name:"numero_socio",size:"sm",type:"text",disabled:s.loading,"aria-describedby":"input-1-live-feedback","data-vv-as":"número sócio"},model:{value:s.post.numero_socio,callback:function(t){s.$set(s.post,"numero_socio",t)},expression:"post.numero_socio"}}),s._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("numero_socio"),expression:"errors.has(`numero_socio`)"}],staticClass:"invalid-feedback"},[s._v("\n                        "+s._s(s.errors.first("numero_socio"))+"\n                    ")])],1)],1),s._v(" "),a("b-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[a("b-form-group",{attrs:{label:"Anuidade","label-class":"font-weight-bold"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],class:["form-control form-control-sm",{"is-invalid":s.errors.has("anuidade")}],attrs:{name:"anuidade",size:"sm",disabled:s.loading,type:"date","aria-describedby":"input-1-live-feedback","data-vv-as":"Anuidade"},model:{value:s.post.anuidade,callback:function(t){s.$set(s.post,"anuidade",t)},expression:"post.anuidade"}}),s._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("anuidade"),expression:"errors.has(`anuidade`)"}],staticClass:"invalid-feedback"},[s._v("\n                        "+s._s(s.errors.first("anuidade"))+"\n                    ")])],1)],1),s._v(" "),a("b-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[a("b-form-group",{attrs:{label:"Instituição","label-class":"font-weight-bold"}},[a("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],staticClass:"form-control form-control-sm",class:["form-control form-control-sm",{"is-invalid":s.errors.has("instituicao")}],attrs:{disabled:s.loading,name:"instituicao",size:"sm","data-vv-as":"instituição"},model:{value:s.post.instituicao_id,callback:function(t){s.$set(s.post,"instituicao_id",t)},expression:"post.instituicao_id"}},[a("option",{domProps:{value:null}},[s._v("Selecione")]),s._v(" "),s._l(s.instituicoes,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[s._v("\n                        "+s._s(t.instituicao)+"\n                    ")])}))],2),s._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("instituicao"),expression:"errors.has(`instituicao`)"}],staticClass:"invalid-feedback"},[s._v("\n                        "+s._s(s.errors.first("instituicao"))+"\n                    ")])],1)],1),s._v(" "),a("b-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[a("b-form-group",{attrs:{label:"Titulação","label-class":"font-weight-bold"}},[a("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],staticClass:"form-control form-control-sm",class:["form-control form-control-sm",{"is-invalid":s.errors.has("titulacao")}],attrs:{disabled:s.loading,name:"titulacao",size:"sm","data-vv-as":"titulação"},model:{value:s.post.titulacao_id,callback:function(t){s.$set(s.post,"titulacao_id",t)},expression:"post.titulacao_id"}},[a("option",{domProps:{value:null}},[s._v("Selecione")]),s._v(" "),s._l(s.titulacoes,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[s._v("\n                        "+s._s(t.titulacao)+"\n                    ")])}))],2),s._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("titulacao"),expression:"errors.has(`titulacao`)"}],staticClass:"invalid-feedback"},[s._v("\n                        "+s._s(s.errors.first("titulacao"))+"\n                    ")])],1)],1),s._v(" "),a("b-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[a("b-form-group",{attrs:{label:"Divisão temática","label-class":"font-weight-bold"}},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],class:["form-control form-control-sm",{"is-invalid":s.errors.has("divisao_tematica")}],attrs:{name:"divisao_tematica",size:"sm",disabled:s.loading,type:"text","aria-describedby":"input-1-live-feedback","data-vv-as":"Divisão temática"},model:{value:s.post.divisao_tematica,callback:function(t){s.$set(s.post,"divisao_tematica",t)},expression:"post.divisao_tematica"}}),s._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("divisao_tematica"),expression:"errors.has(`divisao_tematica`)"}],staticClass:"invalid-feedback"},[s._v("\n                        "+s._s(s.errors.first("divisao_tematica"))+"\n                    ")])],1)],1),s._v(" "),a("b-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[a("b-form-group",{attrs:{label:"Obs Insentamos","label-class":"font-weight-bold"}},[a("b-form-input",{class:["form-control form-control-sm",{"is-invalid":s.errors.has("obs_isentamos")}],attrs:{name:"obs_isentamos",size:"sm",disabled:s.loading,type:"text","aria-describedby":"input-1-live-feedback"},model:{value:s.post.obs_isentamos,callback:function(t){s.$set(s.post,"obs_isentamos",t)},expression:"post.obs_isentamos"}})],1)],1)],1)]],2)}),[],!1,null,"4b51c385",null).exports}}]);