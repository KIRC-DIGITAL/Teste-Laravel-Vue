"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[143],{7152:(t,a,s)=>{s.r(a),s.d(a,{default:()=>o});const e={props:["selected","id"],mixins:[s(2063).Z],data:function(){return{loading:!1,post:{id:null,titulacao:null,_method:"post"}}},watch:{selected:function(){this.selected?(this.post.id=this.selected.id,this.post.titulacao=this.selected.titulacao,this.post._method="put"):this.clear()}},computed:{url:function(){return this.post&&this.post.id?"/".concat(this.post.id):""}},methods:{save:function(){var t=this;this.$validator.validate().then((function(a){a?(t.message("Aguarde...","Estamos salvando suas informações","info",-1),t.loading=!0,axios.post("".concat("https://www.sistemas.intercom.org.br","/admin/titulacao").concat(t.url),t.post).then((function(a){t.clear(),201==a.status?(t.loading=!1,t.$emit("store",a.data.response)):(t.loading=!1,t.$emit("update",a.data.response)),t.message("Sucesso",201==a.status?"Registro cadastrado.":"Registro atualizado.","success")})).catch((function(a){if(422==a.response.status&&"The given data was invalid."==a.response.data.message)return t.loading=!1,t.message("Campos Obrigatórios","Preencha todos os campos obrigatórios","error");400==a.response.status&&(t.loading=!1,t.message("Erro","Por favor tente novamente.","error")),403==a.response.status&&"This action is unauthorized."==a.response.data.message&&(t.loading=!1,t.message("Erro","Ação não autorizada.","error"))}))):t.message("Campos Obrigatórios","Preencha todos os campos obrigatórios","error")}))},clear:function(){this.post.id=null,this.post.tipo_titulacao=null,this.post._method="post",this.$validator.reset("tipo_titulacao")}}};const o=(0,s(1900).Z)(e,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("b-modal",{attrs:{id:"titulacaoModal","no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-header",fn:function(a){var e=a.close;return[t.post.id?s("h5",[t._v("Editar titulação")]):s("h5",[t._v("Cadastrar titulação")]),t._v(" "),s("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(t){return e()}}},[t._v("x")])]}},{key:"modal-footer",fn:function(a){var e=a.cancel;return[s("b-button",{attrs:{size:"md",variant:"outline-danger",disabled:t.loading},on:{click:function(t){return e()}}},[t._v("\n                Cancelar\n            ")]),t._v(" "),s("b-button",{attrs:{size:"md",variant:"outline-success",disabled:t.loading},on:{click:function(a){return t.save()}}},[t._v("\n                "+t._s(t.post.id?"Atualizar":"Cadastrar")+"\n            ")])]}}])},[t._v(" "),[s("b-form-group",{attrs:{label:"Titulação","label-class":"font-weight-bold"}},[s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0},expression:"{ required: true }"}],class:["form-control form-control-sm",{"is-invalid":t.errors.has("titulacao")}],attrs:{name:"titulacao",size:"sm",type:"text","aria-describedby":"input-1-live-feedback","data-vv-as":"titulação",disabled:t.loading},model:{value:t.post.titulacao,callback:function(a){t.$set(t.post,"titulacao",a)},expression:"post.titulacao"}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("titulacao"),expression:"errors.has(`titulacao`)"}],staticClass:"invalid-feedback"},[t._v("\n                "+t._s(t.errors.first("titulacao"))+"\n            ")])],1)]],2)}),[],!1,null,null,null).exports}}]);